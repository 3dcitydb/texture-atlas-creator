<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project name="Texture Atlas" default="dist">
	<property name="api.version" value="0.5" />
	<property name="app.version" value="0.3" />
	<property name="vendor.homepage" value="http://www.igg.tu-berlin.de/"/>
	<property name="app.vendor" value="IGG, Technical University Berlin, Germany, ${vendor.homepage}" />
	<property name="dir.build" value="${basedir}/build" />

	<target name="clean">
		<delete dir="${dir.build}/build"/>
		<delete dir="${dir.build}/api"/>
	</target>

	<target name="compile" depends="clean">
		<mkdir dir="${dir.build}"/>
		<mkdir dir="${dir.build}/build"/>
		<mkdir dir="${dir.build}/build/classes"/>
		<javac srcdir="src/org/citygml/textureAtlasAPI" destdir="${dir.build}/build/classes"/>
	</target>

	<target name="dist" depends="compile">
		<replace file="resource/license/README" token="!api.version!" value="${api.version}" />
		<mkdir dir="${dir.build}/api"/>
		<jar destfile="${dir.build}/api/textureAtlas.jar" basedir="${dir.build}/build/classes">
			<fileset dir="resource/license" includes="**/*" />
		</jar>
		<delete dir="${dir.build}/build"/>
	</target>

</project>